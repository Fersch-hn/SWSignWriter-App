(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"3F3D":function(e,n,l){"use strict";l.r(n);var t=l("CcnG"),r=l("mrSG"),i=l("O+7k"),o=l("ZZ/e"),u=function(){function e(e,n){this.settingsService=e,this.alertController=n}return e.prototype.upload=function(e){this.settingsService.loadFile(e.target.files[0])},e.prototype.dropped=function(e){for(var n=this,l=function(e){e.fileEntry.isFile&&e.fileEntry.file(function(l){e.relativePath.toLowerCase().endsWith(".spml")&&n.settingsService.loadFile(l)})},t=0,r=e.files;t<r.length;t++)l(r[t])},e.prototype.fileOver=function(e){},e.prototype.fileLeave=function(e){},e.prototype.clearSigns=function(){return r.b(this,void 0,void 0,function(){var e=this;return r.e(this,function(n){switch(n.label){case 0:return[4,this.alertController.create({header:"Clear Signs!",message:"Do you <strong>really</strong> want to delete all the signs!!!",buttons:[{text:"No",role:"cancel",cssClass:"secondary",handler:function(e){}},{text:"Yes",handler:function(){e.settingsService.removeAllSigns()}}]})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})},e}(),s=function(){return function(){}}(),a=l("pMnS"),p=l("6blF"),c=l("T1DM"),d=l("isby");function b(e){return!Object(d.a)(e)&&e-parseFloat(e)+1>=0}var f=l("nkY7");function h(e){var n=e.index,l=e.period,t=e.subscriber;if(t.next(n),!t.closed){if(-1===l)return t.complete();e.index=n+1,this.schedule(e,l)}}var g=function(){return function(e,n){this.relativePath=e,this.fileEntry=n}}(),v=function(){return function(e){this.files=e}}(),m=function(){function e(e,n){var l=this;this.zone=e,this.renderer=n,this.accept="*",this.dropZoneLabel="",this.dropZoneClassName="ngx-file-drop__drop-zone",this.contentClassName="ngx-file-drop__content",this.showBrowseBtn=!1,this.browseBtnClassName="btn btn-primary btn-xs ngx-file-drop__browse-btn",this.browseBtnLabel="Browse files",this.onFileDrop=new t.m,this.onFileOver=new t.m,this.onFileLeave=new t.m,this.isDraggingOverDropZone=!1,this.globalDraggingInProgress=!1,this.files=[],this.numOfActiveReadEntries=0,this.helperFormEl=null,this.fileInputPlaceholderEl=null,this.dropEventTimerSubscription=null,this._disabled=!1,this.globalDragStartListener=this.renderer.listen("document","dragstart",function(e){l.globalDraggingInProgress=!0}),this.globalDragEndListener=this.renderer.listen("document","dragend",function(e){l.globalDraggingInProgress=!1})}return Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=null!=e&&""+e!="false"},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.dropEventTimerSubscription&&(this.dropEventTimerSubscription.unsubscribe(),this.dropEventTimerSubscription=null),this.globalDragStartListener(),this.globalDragEndListener(),this.files=[],this.helperFormEl=null,this.fileInputPlaceholderEl=null},e.prototype.onDragOver=function(e){this.isDropzoneDisabled()||(this.isDraggingOverDropZone||(this.isDraggingOverDropZone=!0,this.onFileOver.emit(e)),this.preventAndStop(e))},e.prototype.onDragLeave=function(e){this.isDropzoneDisabled()||(this.isDraggingOverDropZone&&(this.isDraggingOverDropZone=!1,this.onFileLeave.emit(e)),this.preventAndStop(e))},e.prototype.dropFiles=function(e){var n;!this.isDropzoneDisabled()&&(this.isDraggingOverDropZone=!1,e.dataTransfer)&&(e.dataTransfer.dropEffect="copy",n=e.dataTransfer.items?e.dataTransfer.items:e.dataTransfer.files,this.preventAndStop(e),this.checkFiles(n))},e.prototype.onBrowseButtonClick=function(e){this.fileSelector&&this.fileSelector.nativeElement&&this.fileSelector.nativeElement.click()},e.prototype.uploadFiles=function(e){this.isDropzoneDisabled()||e.target&&(this.checkFiles(e.target.files||[]),this.resetFileInput())},e.prototype.checkFiles=function(e){for(var n=this,l=function(n){var l=e[n],r=null;if(t.canGetAsEntry(l)&&(r=l.webkitGetAsEntry()),r)r.isFile?(o=new g(r.name,r),t.addToQueue(o)):r.isDirectory&&t.traverseFileTree(r,r.name);else if(l){var i={name:l.name,isDirectory:!1,isFile:!0,file:function(e){e(l)}},o=new g(i.name,i);t.addToQueue(o)}},t=this,r=0;r<e.length;r++)l(r);this.dropEventTimerSubscription&&this.dropEventTimerSubscription.unsubscribe(),this.dropEventTimerSubscription=function(e,n,l){void 0===e&&(e=0);var t=-1;return b(200)?t=Number(200)<1?1:Number(200):Object(f.a)(200)&&(l=200),Object(f.a)(l)||(l=c.a),new p.a(function(n){var r=b(e)?e:+e-l.now();return l.schedule(h,r,{index:0,period:t,subscriber:n})})}(200).subscribe(function(){n.files.length>0&&0===n.numOfActiveReadEntries&&(n.onFileDrop.emit(new v(n.files)),n.files=[])})},e.prototype.traverseFileTree=function(e,n){var l=this;if(e.isFile){var t=new g(n,e);this.files.push(t)}else{n+="/";var r=e.createReader(),i=[],o=function(){l.numOfActiveReadEntries++,r.readEntries(function(t){if(t.length)i=i.concat(t),o();else if(0===i.length){var r=new g(n,e);l.zone.run(function(){l.addToQueue(r)})}else for(var u=function(e){l.zone.run(function(){l.traverseFileTree(i[e],n+i[e].name)})},s=0;s<i.length;s++)u(s);l.numOfActiveReadEntries--})};o()}},e.prototype.resetFileInput=function(){if(this.fileSelector&&this.fileSelector.nativeElement){var e=this.fileSelector.nativeElement,n=e.parentElement,l=this.getHelperFormElement(),t=this.getFileInputPlaceholderElement();n!==l&&(this.renderer.insertBefore(n,t,e),this.renderer.appendChild(l,e),l.reset(),this.renderer.insertBefore(n,e,t),this.renderer.removeChild(n,t))}},e.prototype.getHelperFormElement=function(){return this.helperFormEl||(this.helperFormEl=this.renderer.createElement("form")),this.helperFormEl},e.prototype.getFileInputPlaceholderElement=function(){return this.fileInputPlaceholderEl||(this.fileInputPlaceholderEl=this.renderer.createElement("div")),this.fileInputPlaceholderEl},e.prototype.canGetAsEntry=function(e){return!!e.webkitGetAsEntry},e.prototype.isDropzoneDisabled=function(){return this.globalDraggingInProgress||this.disabled},e.prototype.addToQueue=function(e){this.files.push(e)},e.prototype.preventAndStop=function(e){e.stopPropagation(),e.preventDefault()},e}(),D=function(){return function(){}}(),F=l("Ip0R"),y=t.nb({encapsulation:0,styles:[".ngx-file-drop__drop-zone[_ngcontent-%COMP%]{height:100px;margin:auto;border:2px dotted #0782d0;border-radius:30px}.ngx-file-drop__drop-zone--over[_ngcontent-%COMP%]{background-color:rgba(147,147,147,.5)}.ngx-file-drop__content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100px;color:#0782d0}.ngx-file-drop__drop-zone-label[_ngcontent-%COMP%]{text-align:center}.ngx-file-drop__file-input[_ngcontent-%COMP%]{display:none}"],data:{}});function E(e){return t.Ib(0,[(e()(),t.pb(0,0,null,null,1,"div",[["class","ngx-file-drop__drop-zone-label"]],null,null,null,null,null)),(e()(),t.Gb(1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.dropZoneLabel)})}function w(e){return t.Ib(0,[(e()(),t.pb(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),t.pb(1,0,null,null,0,"input",[["type","button"]],[[8,"className",0],[8,"value",0]],[[null,"click"]],function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.onBrowseButtonClick(l)&&t),t},null,null))],null,function(e,n){var l=n.component;e(n,1,0,l.browseBtnClassName,t.rb(1,"",l.browseBtnLabel,""))})}function x(e){return t.Ib(0,[t.Eb(402653184,1,{fileSelector:0}),(e()(),t.pb(1,0,null,null,7,"div",[],[[8,"className",0],[2,"ngx-file-drop__drop-zone--over",null]],[[null,"drop"],[null,"dragover"],[null,"dragleave"]],function(e,n,l){var t=!0,r=e.component;return"drop"===n&&(t=!1!==r.dropFiles(l)&&t),"dragover"===n&&(t=!1!==r.onDragOver(l)&&t),"dragleave"===n&&(t=!1!==r.onDragLeave(l)&&t),t},null,null)),(e()(),t.pb(2,0,null,null,6,"div",[],[[8,"className",0]],null,null,null,null)),t.yb(null,0),(e()(),t.gb(16777216,null,null,1,null,E)),t.ob(5,16384,null,0,F.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(e()(),t.pb(6,0,[[1,0],["fileSelector",1]],null,0,"input",[["class","ngx-file-drop__file-input"],["multiple",""],["type","file"]],[[8,"accept",0]],[[null,"change"]],function(e,n,l){var t=!0;return"change"===n&&(t=!1!==e.component.uploadFiles(l)&&t),t},null,null)),(e()(),t.gb(16777216,null,null,1,null,w)),t.ob(8,16384,null,0,F.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(e,n){var l=n.component;e(n,5,0,l.dropZoneLabel),e(n,8,0,l.showBrowseBtn)},function(e,n){var l=n.component;e(n,1,0,l.dropZoneClassName,l.isDraggingOverDropZone),e(n,2,0,l.contentClassName),e(n,6,0,l.accept)})}function S(e){return t.Ib(0,[(e()(),t.pb(0,0,null,null,1,"file-drop",[],null,null,null,x,y)),t.ob(1,180224,null,0,m,[t.z,t.D],null,null)],null,null)}var O=t.lb("file-drop",m,S,{accept:"accept",dropZoneLabel:"dropZoneLabel",dropZoneClassName:"dropZoneClassName",contentClassName:"contentClassName",disabled:"disabled",showBrowseBtn:"showBrowseBtn",browseBtnClassName:"browseBtnClassName",browseBtnLabel:"browseBtnLabel"},{onFileDrop:"onFileDrop",onFileOver:"onFileOver",onFileLeave:"onFileLeave"},["*"]),L=l("oBZk"),C=t.nb({encapsulation:0,styles:[[""]],data:{}});function k(e){return t.Ib(0,[(e()(),t.pb(0,0,null,null,10,"ion-header",[],null,null,null,L.K,L.k)),t.ob(1,49152,null,0,o.z,[t.h,t.k],null,null),(e()(),t.pb(2,0,null,0,8,"ion-toolbar",[],null,null,null,L.Z,L.z)),t.ob(3,49152,null,0,o.zb,[t.h,t.k],null,null),(e()(),t.pb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,L.D,L.d)),t.ob(5,49152,null,0,o.j,[t.h,t.k],null,null),(e()(),t.pb(6,0,null,0,1,"ion-menu-button",[],null,null,null,L.P,L.q)),t.ob(7,49152,null,0,o.P,[t.h,t.k],null,null),(e()(),t.pb(8,0,null,0,2,"ion-title",[],null,null,null,L.Y,L.y)),t.ob(9,49152,null,0,o.xb,[t.h,t.k],null,null),(e()(),t.Gb(-1,0,["Settings"])),(e()(),t.pb(11,0,null,null,12,"ion-content",[["padding",""]],null,null,null,L.F,L.f)),t.ob(12,49152,null,0,o.s,[t.h,t.k],null,null),(e()(),t.pb(13,0,null,0,10,"div",[["class","center"]],null,null,null,null,null)),(e()(),t.pb(14,0,null,null,1,"file-drop",[["dropZoneLabel","Drop SPML file here to add signs"]],null,[[null,"onFileDrop"],[null,"onFileOver"],[null,"onFileLeave"]],function(e,n,l){var t=!0,r=e.component;return"onFileDrop"===n&&(t=!1!==r.dropped(l)&&t),"onFileOver"===n&&(t=!1!==r.fileOver(l)&&t),"onFileLeave"===n&&(t=!1!==r.fileLeave(l)&&t),t},x,y)),t.ob(15,180224,null,0,m,[t.z,t.D],{dropZoneLabel:[0,"dropZoneLabel"]},{onFileDrop:"onFileDrop",onFileOver:"onFileOver",onFileLeave:"onFileLeave"}),(e()(),t.pb(16,0,[["uploader",1]],null,0,"input",[["hidden",""],["type","file"]],null,[[null,"change"]],function(e,n,l){var t=!0;return"change"===n&&(t=!1!==e.component.upload(l)&&t),t},null,null)),(e()(),t.pb(17,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(e,n,l){var r=!0;return"click"===n&&(r=!1!==t.zb(e,16).click()&&r),r},L.C,L.c)),t.ob(18,49152,null,0,o.i,[t.h,t.k],null,null),(e()(),t.Gb(-1,0,[" Choose SPML file "])),(e()(),t.pb(20,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),t.pb(21,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.clearSigns()&&t),t},L.C,L.c)),t.ob(22,49152,null,0,o.i,[t.h,t.k],null,null),(e()(),t.Gb(-1,0,[" Clear Signs "]))],function(e,n){e(n,15,0,"Drop SPML file here to add signs")},null)}function _(e){return t.Ib(0,[(e()(),t.pb(0,0,null,null,1,"app-settings",[],null,null,null,k,C)),t.ob(1,49152,null,0,u,[i.a,o.a],null,null)],null,null)}var B=t.lb("app-settings",u,_,{},{},[]),P=l("gIcY"),I=l("ZYCi");l.d(n,"SettingsPageModuleNgFactory",function(){return Z});var Z=t.mb(s,[],function(e){return t.wb([t.xb(512,t.j,t.bb,[[8,[a.a,O,B]],[3,t.j],t.x]),t.xb(4608,F.k,F.j,[t.u,[2,F.r]]),t.xb(4608,P.g,P.g,[]),t.xb(4608,o.b,o.b,[t.z,t.g]),t.xb(4608,o.Db,o.Db,[o.b,t.j,t.q,F.c]),t.xb(4608,o.Gb,o.Gb,[o.b,t.j,t.q,F.c]),t.xb(1073742336,F.b,F.b,[]),t.xb(1073742336,P.f,P.f,[]),t.xb(1073742336,P.a,P.a,[]),t.xb(1073742336,o.Bb,o.Bb,[]),t.xb(1073742336,I.p,I.p,[[2,I.v],[2,I.n]]),t.xb(1073742336,D,D,[]),t.xb(1073742336,s,s,[]),t.xb(1024,I.l,function(){return[[{path:"",component:u}]]},[])])})}}]);