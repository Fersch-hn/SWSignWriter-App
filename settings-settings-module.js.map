{"version":3,"sources":["webpack:///./node_modules/ngx-file-drop/fesm5/ngx-file-drop.js","webpack:///./src/app/settings/settings.module.ts","webpack:///./src/app/settings/settings.page.html","webpack:///./src/app/settings/settings.page.scss","webpack:///./src/app/settings/settings.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+G;AAClF;AACkB;;AAE/C;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA,gCAAgC,2BAA2B,KAAK,gCAAgC;AAChG,yCAAyC,8BAA8B,KAAK;AAC5E,4BAA4B,uBAAuB;AACnD;AACA;AACA,gCAAgC,2BAA2B,KAAK,gCAAgC;AAChG,yCAAyC,8BAA8B,KAAK;AAC5E,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,0DAAY;AAC1C,8BAA8B,0DAAY;AAC1C,+BAA+B,0DAAY;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,uBAAuB,EAAE;AAC9C;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,yBAAyB,EAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,yCAAyC,EAAE,2CAA2C,EAAE;AACxF;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC;AACA,2CAA2C,EAAE;AAC7C;AACA;AACA;AACA,iDAAiD,EAAE;AACnD,yBAAyB;AACzB;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA,0CAA0C,kDAAK;AAC/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,2CAA2C,EAAE;AAC7C,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,EAAE;AACzC;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,2CAA2C,sBAAsB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,0CAA0C,EAAE;AAC5C,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,4CAA4C,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,sDAAsD,EAAE;AACxD;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA,kbAAkb,eAAe,qSAAqS,gBAAgB;AACtvB,wDAAwD,aAAa,YAAY,0BAA0B,mBAAmB,gCAAgC,sCAAsC,wBAAwB,aAAa,mBAAmB,uBAAuB,aAAa,cAAc,gCAAgC,kBAAkB,2BAA2B,aAAa;AACxY,iBAAiB;AACjB;AACA;AACA,gDAAgD;AAChD,SAAS,OAA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","file":"settings-settings-module.js","sourcesContent":["import { Component, Input, Output, EventEmitter, NgZone, Renderer2, ViewChild, NgModule } from '@angular/core';\nimport { timer } from 'rxjs';\nimport { CommonModule } from '@angular/common';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\n/**\r\n * fileEntry is an instance of {\\@link FileSystemFileEntry} or {\\@link FileSystemDirectoryEntry}.\r\n * Which one is it can be checked using {\\@link FileSystemEntry.isFile} or {\\@link FileSystemEntry.isDirectory}\r\n * properties of the given {\\@link FileSystemEntry}.\r\n */\r\nvar  /**\r\n * fileEntry is an instance of {\\@link FileSystemFileEntry} or {\\@link FileSystemDirectoryEntry}.\r\n * Which one is it can be checked using {\\@link FileSystemEntry.isFile} or {\\@link FileSystemEntry.isDirectory}\r\n * properties of the given {\\@link FileSystemEntry}.\r\n */\r\nUploadFile = /** @class */ (function () {\r\n    function UploadFile(relativePath, fileEntry) {\r\n        this.relativePath = relativePath;\r\n        this.fileEntry = fileEntry;\r\n    }\r\n    return UploadFile;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\nvar UploadEvent = /** @class */ (function () {\r\n    function UploadEvent(files) {\r\n        this.files = files;\r\n    }\r\n    return UploadEvent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\nvar FileComponent = /** @class */ (function () {\r\n    function FileComponent(zone, renderer) {\r\n        var _this = this;\r\n        this.zone = zone;\r\n        this.renderer = renderer;\r\n        this.accept = '*';\r\n        this.multiple = true;\r\n        this.dropZoneLabel = '';\r\n        this.dropZoneClassName = 'ngx-file-drop__drop-zone';\r\n        this.contentClassName = 'ngx-file-drop__content';\r\n        this.showBrowseBtn = false;\r\n        this.browseBtnClassName = 'btn btn-primary btn-xs ngx-file-drop__browse-btn';\r\n        this.browseBtnLabel = 'Browse files';\r\n        this.onFileDrop = new EventEmitter();\r\n        this.onFileOver = new EventEmitter();\r\n        this.onFileLeave = new EventEmitter();\r\n        this.isDraggingOverDropZone = false;\r\n        this.globalDraggingInProgress = false;\r\n        this.files = [];\r\n        this.numOfActiveReadEntries = 0;\r\n        this.helperFormEl = null;\r\n        this.fileInputPlaceholderEl = null;\r\n        this.dropEventTimerSubscription = null;\r\n        this._disabled = false;\r\n        this.globalDragStartListener = this.renderer.listen('document', 'dragstart', function (evt) {\r\n            _this.globalDraggingInProgress = true;\r\n        });\r\n        this.globalDragEndListener = this.renderer.listen('document', 'dragend', function (evt) {\r\n            _this.globalDraggingInProgress = false;\r\n        });\r\n    }\r\n    Object.defineProperty(FileComponent.prototype, \"disabled\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this._disabled; },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._disabled = (value != null && \"\" + value !== 'false');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.dropEventTimerSubscription) {\r\n            this.dropEventTimerSubscription.unsubscribe();\r\n            this.dropEventTimerSubscription = null;\r\n        }\r\n        this.globalDragStartListener();\r\n        this.globalDragEndListener();\r\n        this.files = [];\r\n        this.helperFormEl = null;\r\n        this.fileInputPlaceholderEl = null;\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.onDragOver = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (!this.isDropzoneDisabled()) {\r\n            if (!this.isDraggingOverDropZone) {\r\n                this.isDraggingOverDropZone = true;\r\n                this.onFileOver.emit(event);\r\n            }\r\n            this.preventAndStop(event);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.onDragLeave = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (!this.isDropzoneDisabled()) {\r\n            if (this.isDraggingOverDropZone) {\r\n                this.isDraggingOverDropZone = false;\r\n                this.onFileLeave.emit(event);\r\n            }\r\n            this.preventAndStop(event);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.dropFiles = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (!this.isDropzoneDisabled()) {\r\n            this.isDraggingOverDropZone = false;\r\n            if (event.dataTransfer) {\r\n                event.dataTransfer.dropEffect = 'copy';\r\n                /** @type {?} */\r\n                var items = void 0;\r\n                if (event.dataTransfer.items) {\r\n                    items = event.dataTransfer.items;\r\n                }\r\n                else {\r\n                    items = event.dataTransfer.files;\r\n                }\r\n                this.preventAndStop(event);\r\n                this.checkFiles(items);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @param {?=} event\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.onBrowseButtonClick = /**\r\n     * @param {?=} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (this.fileSelector && this.fileSelector.nativeElement) {\r\n            ((/** @type {?} */ (this.fileSelector.nativeElement))).click();\r\n        }\r\n    };\r\n    /**\r\n     * Processes the change event of the file input and adds the given files.\r\n     * @param Event event\r\n     */\r\n    /**\r\n     * Processes the change event of the file input and adds the given files.\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.uploadFiles = /**\r\n     * Processes the change event of the file input and adds the given files.\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (!this.isDropzoneDisabled()) {\r\n            if (event.target) {\r\n                /** @type {?} */\r\n                var items = ((/** @type {?} */ (event.target))).files || ((/** @type {?} */ ([])));\r\n                this.checkFiles(items);\r\n                this.resetFileInput();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} items\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.checkFiles = /**\r\n     * @param {?} items\r\n     * @return {?}\r\n     */\r\n    function (items) {\r\n        var _this = this;\r\n        var _loop_1 = function (i) {\r\n            /** @type {?} */\r\n            var item = items[i];\r\n            /** @type {?} */\r\n            var entry = null;\r\n            if (this_1.canGetAsEntry(item)) {\r\n                entry = item.webkitGetAsEntry();\r\n            }\r\n            if (!entry) {\r\n                if (item) {\r\n                    /** @type {?} */\r\n                    var fakeFileEntry = {\r\n                        name: ((/** @type {?} */ (item))).name,\r\n                        isDirectory: false,\r\n                        isFile: true,\r\n                        file: function (callback) {\r\n                            callback((/** @type {?} */ (item)));\r\n                        },\r\n                    };\r\n                    /** @type {?} */\r\n                    var toUpload = new UploadFile(fakeFileEntry.name, fakeFileEntry);\r\n                    this_1.addToQueue(toUpload);\r\n                }\r\n            }\r\n            else {\r\n                if (entry.isFile) {\r\n                    /** @type {?} */\r\n                    var toUpload = new UploadFile(entry.name, entry);\r\n                    this_1.addToQueue(toUpload);\r\n                }\r\n                else if (entry.isDirectory) {\r\n                    this_1.traverseFileTree(entry, entry.name);\r\n                }\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < items.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n        if (this.dropEventTimerSubscription) {\r\n            this.dropEventTimerSubscription.unsubscribe();\r\n        }\r\n        this.dropEventTimerSubscription = timer(200, 200)\r\n            .subscribe(function () {\r\n            if (_this.files.length > 0 && _this.numOfActiveReadEntries === 0) {\r\n                _this.onFileDrop.emit(new UploadEvent(_this.files));\r\n                _this.files = [];\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * @param {?} item\r\n     * @param {?} path\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.traverseFileTree = /**\r\n     * @param {?} item\r\n     * @param {?} path\r\n     * @return {?}\r\n     */\r\n    function (item, path) {\r\n        var _this = this;\r\n        if (item.isFile) {\r\n            /** @type {?} */\r\n            var toUpload = new UploadFile(path, item);\r\n            this.files.push(toUpload);\r\n        }\r\n        else {\r\n            path = path + '/';\r\n            /** @type {?} */\r\n            var dirReader_1 = ((/** @type {?} */ (item))).createReader();\r\n            /** @type {?} */\r\n            var entries_1 = [];\r\n            /** @type {?} */\r\n            var readEntries_1 = function () {\r\n                _this.numOfActiveReadEntries++;\r\n                dirReader_1.readEntries(function (result) {\r\n                    if (!result.length) {\r\n                        // add empty folders\r\n                        if (entries_1.length === 0) {\r\n                            /** @type {?} */\r\n                            var toUpload_1 = new UploadFile(path, item);\r\n                            _this.zone.run(function () {\r\n                                _this.addToQueue(toUpload_1);\r\n                            });\r\n                        }\r\n                        else {\r\n                            var _loop_2 = function (i) {\r\n                                _this.zone.run(function () {\r\n                                    _this.traverseFileTree(entries_1[i], path + entries_1[i].name);\r\n                                });\r\n                            };\r\n                            for (var i = 0; i < entries_1.length; i++) {\r\n                                _loop_2(i);\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        // continue with the reading\r\n                        entries_1 = entries_1.concat(result);\r\n                        readEntries_1();\r\n                    }\r\n                    _this.numOfActiveReadEntries--;\r\n                });\r\n            };\r\n            readEntries_1();\r\n        }\r\n    };\r\n    /**\r\n     * Clears any added files from the file input element so the same file can subsequently be added multiple times.\r\n     */\r\n    /**\r\n     * Clears any added files from the file input element so the same file can subsequently be added multiple times.\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.resetFileInput = /**\r\n     * Clears any added files from the file input element so the same file can subsequently be added multiple times.\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.fileSelector && this.fileSelector.nativeElement) {\r\n            /** @type {?} */\r\n            var fileInputEl = (/** @type {?} */ (this.fileSelector.nativeElement));\r\n            /** @type {?} */\r\n            var fileInputContainerEl = fileInputEl.parentElement;\r\n            /** @type {?} */\r\n            var helperFormEl = this.getHelperFormElement();\r\n            /** @type {?} */\r\n            var fileInputPlaceholderEl = this.getFileInputPlaceholderElement();\r\n            // Just a quick check so we do not mess up the DOM (will never happen though).\r\n            if (fileInputContainerEl !== helperFormEl) {\r\n                // Insert the form input placeholder in the DOM before the form input element.\r\n                this.renderer.insertBefore(fileInputContainerEl, fileInputPlaceholderEl, fileInputEl);\r\n                // Add the form input as child of the temporary form element, removing the form input from the DOM.\r\n                this.renderer.appendChild(helperFormEl, fileInputEl);\r\n                // Reset the form, thus clearing the input element of any files.\r\n                helperFormEl.reset();\r\n                // Add the file input back to the DOM in place of the file input placeholder element.\r\n                this.renderer.insertBefore(fileInputContainerEl, fileInputEl, fileInputPlaceholderEl);\r\n                // Remove the input placeholder from the DOM\r\n                this.renderer.removeChild(fileInputContainerEl, fileInputPlaceholderEl);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Get a cached HTML form element as a helper element to clear the file input element.\r\n     */\r\n    /**\r\n     * Get a cached HTML form element as a helper element to clear the file input element.\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.getHelperFormElement = /**\r\n     * Get a cached HTML form element as a helper element to clear the file input element.\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (!this.helperFormEl) {\r\n            this.helperFormEl = (/** @type {?} */ (this.renderer.createElement('form')));\r\n        }\r\n        return this.helperFormEl;\r\n    };\r\n    /**\r\n     * Get a cached HTML div element to be used as placeholder for the file input element when clearing said element.\r\n     */\r\n    /**\r\n     * Get a cached HTML div element to be used as placeholder for the file input element when clearing said element.\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.getFileInputPlaceholderElement = /**\r\n     * Get a cached HTML div element to be used as placeholder for the file input element when clearing said element.\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (!this.fileInputPlaceholderEl) {\r\n            this.fileInputPlaceholderEl = (/** @type {?} */ (this.renderer.createElement('div')));\r\n        }\r\n        return this.fileInputPlaceholderEl;\r\n    };\r\n    /**\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.canGetAsEntry = /**\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        return !!item.webkitGetAsEntry;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.isDropzoneDisabled = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return (this.globalDraggingInProgress || this.disabled);\r\n    };\r\n    /**\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.addToQueue = /**\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        this.files.push(item);\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    FileComponent.prototype.preventAndStop = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n    };\r\n    FileComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'file-drop',\r\n                    template: \"<div [className]=\\\"dropZoneClassName\\\"\\r\\n     [class.ngx-file-drop__drop-zone--over]=\\\"isDraggingOverDropZone\\\"\\r\\n     (drop)=\\\"dropFiles($event)\\\"\\r\\n     (dragover)=\\\"onDragOver($event)\\\"\\r\\n     (dragleave)=\\\"onDragLeave($event)\\\">\\r\\n    <div [className]=\\\"contentClassName\\\">\\r\\n        <ng-content></ng-content>\\r\\n        <div *ngIf=\\\"dropZoneLabel\\\" class=\\\"ngx-file-drop__drop-zone-label\\\">{{dropZoneLabel}}</div>\\r\\n        <input type=\\\"file\\\" #fileSelector [accept]=\\\"accept\\\" (change)=\\\"uploadFiles($event)\\\" [multiple]=\\\"multiple\\\" class=\\\"ngx-file-drop__file-input\\\" />\\r\\n        <div *ngIf=\\\"showBrowseBtn\\\">\\r\\n            <input type=\\\"button\\\" [className]=\\\"browseBtnClassName\\\" value=\\\"{{browseBtnLabel}}\\\" (click)=\\\"onBrowseButtonClick($event)\\\" />\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\",\r\n                    styles: [\".ngx-file-drop__drop-zone{height:100px;margin:auto;border:2px dotted #0782d0;border-radius:30px}.ngx-file-drop__drop-zone--over{background-color:rgba(147,147,147,.5)}.ngx-file-drop__content{display:flex;align-items:center;justify-content:center;height:100px;color:#0782d0}.ngx-file-drop__drop-zone-label{text-align:center}.ngx-file-drop__file-input{display:none}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    FileComponent.ctorParameters = function () { return [\r\n        { type: NgZone },\r\n        { type: Renderer2 }\r\n    ]; };\r\n    FileComponent.propDecorators = {\r\n        accept: [{ type: Input }],\r\n        multiple: [{ type: Input }],\r\n        dropZoneLabel: [{ type: Input }],\r\n        dropZoneClassName: [{ type: Input }],\r\n        contentClassName: [{ type: Input }],\r\n        disabled: [{ type: Input }],\r\n        showBrowseBtn: [{ type: Input }],\r\n        browseBtnClassName: [{ type: Input }],\r\n        browseBtnLabel: [{ type: Input }],\r\n        onFileDrop: [{ type: Output }],\r\n        onFileOver: [{ type: Output }],\r\n        onFileLeave: [{ type: Output }],\r\n        fileSelector: [{ type: ViewChild, args: ['fileSelector',] }]\r\n    };\r\n    return FileComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\nvar FileDropModule = /** @class */ (function () {\r\n    function FileDropModule() {\r\n    }\r\n    FileDropModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    declarations: [\r\n                        FileComponent,\r\n                    ],\r\n                    exports: [FileComponent],\r\n                    imports: [CommonModule],\r\n                    providers: [],\r\n                    bootstrap: [FileComponent],\r\n                },] }\r\n    ];\r\n    return FileDropModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\n\nexport { FileComponent, FileDropModule, UploadFile, UploadEvent };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWZpbGUtZHJvcC5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vbmd4LWZpbGUtZHJvcC9zcmMvbGliL25neC1kcm9wL3VwbG9hZC1maWxlLm1vZGVsLnRzIiwibmc6Ly9uZ3gtZmlsZS1kcm9wL3NyYy9saWIvbmd4LWRyb3AvdXBsb2FkLWV2ZW50Lm1vZGVsLnRzIiwibmc6Ly9uZ3gtZmlsZS1kcm9wL3NyYy9saWIvbmd4LWRyb3AvZmlsZS1kcm9wLmNvbXBvbmVudC50cyIsIm5nOi8vbmd4LWZpbGUtZHJvcC9zcmMvbGliL25neC1kcm9wL2ZpbGUtZHJvcC5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmlsZVN5c3RlbUVudHJ5LCBGaWxlU3lzdGVtRmlsZUVudHJ5LCBGaWxlU3lzdGVtRGlyZWN0b3J5RW50cnkgfSBmcm9tICcuL2RvbS50eXBlcyc7XHJcblxyXG4vKipcclxuICogZmlsZUVudHJ5IGlzIGFuIGluc3RhbmNlIG9mIHtAbGluayBGaWxlU3lzdGVtRmlsZUVudHJ5fSBvciB7QGxpbmsgRmlsZVN5c3RlbURpcmVjdG9yeUVudHJ5fS5cclxuICogV2hpY2ggb25lIGlzIGl0IGNhbiBiZSBjaGVja2VkIHVzaW5nIHtAbGluayBGaWxlU3lzdGVtRW50cnkuaXNGaWxlfSBvciB7QGxpbmsgRmlsZVN5c3RlbUVudHJ5LmlzRGlyZWN0b3J5fVxyXG4gKiBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiB7QGxpbmsgRmlsZVN5c3RlbUVudHJ5fS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBVcGxvYWRGaWxlIHtcclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyByZWxhdGl2ZVBhdGg6IHN0cmluZyxcclxuICAgICAgICBwdWJsaWMgZmlsZUVudHJ5OiBGaWxlU3lzdGVtRW50cnkpIHtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBVcGxvYWRGaWxlIH0gZnJvbSAnLi91cGxvYWQtZmlsZS5tb2RlbCc7XHJcblxyXG5leHBvcnQgY2xhc3MgVXBsb2FkRXZlbnQge1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIGZpbGVzOiBVcGxvYWRGaWxlW10pIHtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIENvbXBvbmVudCxcclxuICBJbnB1dCxcclxuICBPdXRwdXQsXHJcbiAgRXZlbnRFbWl0dGVyLFxyXG4gIE5nWm9uZSxcclxuICBPbkRlc3Ryb3ksXHJcbiAgUmVuZGVyZXIyLFxyXG4gIFZpZXdDaGlsZCxcclxuICBFbGVtZW50UmVmXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IHRpbWVyLCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcclxuXHJcbmltcG9ydCB7IFVwbG9hZEZpbGUgfSBmcm9tICcuL3VwbG9hZC1maWxlLm1vZGVsJztcclxuaW1wb3J0IHsgVXBsb2FkRXZlbnQgfSBmcm9tICcuL3VwbG9hZC1ldmVudC5tb2RlbCc7XHJcbmltcG9ydCB7IEZpbGVTeXN0ZW1GaWxlRW50cnksIEZpbGVTeXN0ZW1FbnRyeSwgRmlsZVN5c3RlbURpcmVjdG9yeUVudHJ5IH0gZnJvbSAnLi9kb20udHlwZXMnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdmaWxlLWRyb3AnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9maWxlLWRyb3AuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL2ZpbGUtZHJvcC5jb21wb25lbnQuc2NzcyddLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgRmlsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uRGVzdHJveSB7XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIGFjY2VwdDogc3RyaW5nID0gJyonO1xyXG5cclxuICBASW5wdXQoKVxyXG4gIHB1YmxpYyBtdWx0aXBsZTogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIGRyb3Bab25lTGFiZWw6IHN0cmluZyA9ICcnO1xyXG5cclxuICBASW5wdXQoKVxyXG4gIHB1YmxpYyBkcm9wWm9uZUNsYXNzTmFtZTogc3RyaW5nID0gJ25neC1maWxlLWRyb3BfX2Ryb3Atem9uZSc7XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIGNvbnRlbnRDbGFzc05hbWU6IHN0cmluZyA9ICduZ3gtZmlsZS1kcm9wX19jb250ZW50JztcclxuXHJcbiAgcHVibGljIGdldCBkaXNhYmxlZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX2Rpc2FibGVkOyB9XHJcbiAgQElucHV0KClcclxuICBwdWJsaWMgc2V0IGRpc2FibGVkKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLl9kaXNhYmxlZCA9ICh2YWx1ZSAhPSBudWxsICYmIGAke3ZhbHVlfWAgIT09ICdmYWxzZScpO1xyXG4gIH1cclxuXHJcbiAgQElucHV0KClcclxuICBwdWJsaWMgc2hvd0Jyb3dzZUJ0bjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIGJyb3dzZUJ0bkNsYXNzTmFtZTogc3RyaW5nID0gJ2J0biBidG4tcHJpbWFyeSBidG4teHMgbmd4LWZpbGUtZHJvcF9fYnJvd3NlLWJ0bic7XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIGJyb3dzZUJ0bkxhYmVsOiBzdHJpbmcgPSAnQnJvd3NlIGZpbGVzJztcclxuXHJcbiAgQE91dHB1dCgpXHJcbiAgcHVibGljIG9uRmlsZURyb3A6IEV2ZW50RW1pdHRlcjxVcGxvYWRFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyPFVwbG9hZEV2ZW50PigpO1xyXG4gIEBPdXRwdXQoKVxyXG4gIHB1YmxpYyBvbkZpbGVPdmVyOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKVxyXG4gIHB1YmxpYyBvbkZpbGVMZWF2ZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuXHJcbiAgQFZpZXdDaGlsZCgnZmlsZVNlbGVjdG9yJylcclxuICBwdWJsaWMgZmlsZVNlbGVjdG9yOiBFbGVtZW50UmVmO1xyXG5cclxuICBwdWJsaWMgaXNEcmFnZ2luZ092ZXJEcm9wWm9uZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICBwcml2YXRlIGdsb2JhbERyYWdnaW5nSW5Qcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHByaXZhdGUgZ2xvYmFsRHJhZ1N0YXJ0TGlzdGVuZXI6ICgpID0+IHZvaWQ7XHJcbiAgcHJpdmF0ZSBnbG9iYWxEcmFnRW5kTGlzdGVuZXI6ICgpID0+IHZvaWQ7XHJcblxyXG4gIHByaXZhdGUgZmlsZXM6IFVwbG9hZEZpbGVbXSA9IFtdO1xyXG4gIHByaXZhdGUgbnVtT2ZBY3RpdmVSZWFkRW50cmllczogbnVtYmVyID0gMDtcclxuXHJcbiAgcHJpdmF0ZSBoZWxwZXJGb3JtRWw6IEhUTUxGb3JtRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgZmlsZUlucHV0UGxhY2Vob2xkZXJFbDogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgcHJpdmF0ZSBkcm9wRXZlbnRUaW1lclN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIHByaXZhdGUgX2Rpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSB6b25lOiBOZ1pvbmUsXHJcbiAgICBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcjJcclxuICApIHtcclxuICAgIHRoaXMuZ2xvYmFsRHJhZ1N0YXJ0TGlzdGVuZXIgPSB0aGlzLnJlbmRlcmVyLmxpc3RlbignZG9jdW1lbnQnLCAnZHJhZ3N0YXJ0JywgKGV2dDogRXZlbnQpID0+IHtcclxuICAgICAgdGhpcy5nbG9iYWxEcmFnZ2luZ0luUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmdsb2JhbERyYWdFbmRMaXN0ZW5lciA9IHRoaXMucmVuZGVyZXIubGlzdGVuKCdkb2N1bWVudCcsICdkcmFnZW5kJywgKGV2dDogRXZlbnQpID0+IHtcclxuICAgICAgdGhpcy5nbG9iYWxEcmFnZ2luZ0luUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG5nT25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuZHJvcEV2ZW50VGltZXJTdWJzY3JpcHRpb24pIHtcclxuICAgICAgdGhpcy5kcm9wRXZlbnRUaW1lclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgICB0aGlzLmRyb3BFdmVudFRpbWVyU3Vic2NyaXB0aW9uID0gbnVsbDtcclxuICAgIH1cclxuICAgIHRoaXMuZ2xvYmFsRHJhZ1N0YXJ0TGlzdGVuZXIoKTtcclxuICAgIHRoaXMuZ2xvYmFsRHJhZ0VuZExpc3RlbmVyKCk7XHJcbiAgICB0aGlzLmZpbGVzID0gW107XHJcbiAgICB0aGlzLmhlbHBlckZvcm1FbCA9IG51bGw7XHJcbiAgICB0aGlzLmZpbGVJbnB1dFBsYWNlaG9sZGVyRWwgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG9uRHJhZ092ZXIoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuaXNEcm9wem9uZURpc2FibGVkKCkpIHtcclxuICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dpbmdPdmVyRHJvcFpvbmUpIHtcclxuICAgICAgICB0aGlzLmlzRHJhZ2dpbmdPdmVyRHJvcFpvbmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub25GaWxlT3Zlci5lbWl0KGV2ZW50KTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnByZXZlbnRBbmRTdG9wKGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBvbkRyYWdMZWF2ZShldmVudDogRXZlbnQpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5pc0Ryb3B6b25lRGlzYWJsZWQoKSkge1xyXG4gICAgICBpZiAodGhpcy5pc0RyYWdnaW5nT3ZlckRyb3Bab25lKSB7XHJcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nT3ZlckRyb3Bab25lID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5vbkZpbGVMZWF2ZS5lbWl0KGV2ZW50KTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnByZXZlbnRBbmRTdG9wKGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcm9wRmlsZXMoZXZlbnQ6IERyYWdFdmVudCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmlzRHJvcHpvbmVEaXNhYmxlZCgpKSB7XHJcbiAgICAgIHRoaXMuaXNEcmFnZ2luZ092ZXJEcm9wWm9uZSA9IGZhbHNlO1xyXG4gICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyKSB7XHJcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSc7XHJcbiAgICAgICAgbGV0IGl0ZW1zOiBGaWxlTGlzdCB8IERhdGFUcmFuc2Zlckl0ZW1MaXN0O1xyXG4gICAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIuaXRlbXMpIHtcclxuICAgICAgICAgIGl0ZW1zID0gZXZlbnQuZGF0YVRyYW5zZmVyLml0ZW1zO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpdGVtcyA9IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcmV2ZW50QW5kU3RvcChldmVudCk7XHJcbiAgICAgICAgdGhpcy5jaGVja0ZpbGVzKGl0ZW1zKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIG9uQnJvd3NlQnV0dG9uQ2xpY2soZXZlbnQ/OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5maWxlU2VsZWN0b3IgJiYgdGhpcy5maWxlU2VsZWN0b3IubmF0aXZlRWxlbWVudCkge1xyXG4gICAgICAodGhpcy5maWxlU2VsZWN0b3IubmF0aXZlRWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jbGljaygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUHJvY2Vzc2VzIHRoZSBjaGFuZ2UgZXZlbnQgb2YgdGhlIGZpbGUgaW5wdXQgYW5kIGFkZHMgdGhlIGdpdmVuIGZpbGVzLlxyXG4gICAqIEBwYXJhbSBFdmVudCBldmVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyB1cGxvYWRGaWxlcyhldmVudDogRXZlbnQpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5pc0Ryb3B6b25lRGlzYWJsZWQoKSkge1xyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0KSB7XHJcbiAgICAgICAgY29uc3QgaXRlbXMgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzIHx8IChbXSBhcyBhbnkpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tGaWxlcyhpdGVtcyk7XHJcbiAgICAgICAgdGhpcy5yZXNldEZpbGVJbnB1dCgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrRmlsZXMoaXRlbXM6IEZpbGVMaXN0IHwgRGF0YVRyYW5zZmVySXRlbUxpc3QpOiB2b2lkIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xyXG4gICAgICBsZXQgZW50cnk6IEZpbGVTeXN0ZW1FbnRyeSB8IG51bGwgPSBudWxsO1xyXG4gICAgICBpZiAodGhpcy5jYW5HZXRBc0VudHJ5KGl0ZW0pKSB7XHJcbiAgICAgICAgZW50cnkgPSBpdGVtLndlYmtpdEdldEFzRW50cnkoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFlbnRyeSkge1xyXG4gICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICBjb25zdCBmYWtlRmlsZUVudHJ5OiBGaWxlU3lzdGVtRmlsZUVudHJ5ID0ge1xyXG4gICAgICAgICAgICBuYW1lOiAoaXRlbSBhcyBGaWxlKS5uYW1lLFxyXG4gICAgICAgICAgICBpc0RpcmVjdG9yeTogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzRmlsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZmlsZTogKGNhbGxiYWNrOiAoZmlsZWE6IEZpbGUpID0+IHZvaWQpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgICBjYWxsYmFjayhpdGVtIGFzIEZpbGUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGNvbnN0IHRvVXBsb2FkOiBVcGxvYWRGaWxlID0gbmV3IFVwbG9hZEZpbGUoZmFrZUZpbGVFbnRyeS5uYW1lLCBmYWtlRmlsZUVudHJ5KTtcclxuICAgICAgICAgIHRoaXMuYWRkVG9RdWV1ZSh0b1VwbG9hZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoZW50cnkuaXNGaWxlKSB7XHJcbiAgICAgICAgICBjb25zdCB0b1VwbG9hZDogVXBsb2FkRmlsZSA9IG5ldyBVcGxvYWRGaWxlKGVudHJ5Lm5hbWUsIGVudHJ5KTtcclxuICAgICAgICAgIHRoaXMuYWRkVG9RdWV1ZSh0b1VwbG9hZCk7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoZW50cnkuaXNEaXJlY3RvcnkpIHtcclxuICAgICAgICAgIHRoaXMudHJhdmVyc2VGaWxlVHJlZShlbnRyeSwgZW50cnkubmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZHJvcEV2ZW50VGltZXJTdWJzY3JpcHRpb24pIHtcclxuICAgICAgdGhpcy5kcm9wRXZlbnRUaW1lclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kcm9wRXZlbnRUaW1lclN1YnNjcmlwdGlvbiA9IHRpbWVyKDIwMCwgMjAwKVxyXG4gICAgICAuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5maWxlcy5sZW5ndGggPiAwICYmIHRoaXMubnVtT2ZBY3RpdmVSZWFkRW50cmllcyA9PT0gMCkge1xyXG4gICAgICAgICAgdGhpcy5vbkZpbGVEcm9wLmVtaXQobmV3IFVwbG9hZEV2ZW50KHRoaXMuZmlsZXMpKTtcclxuICAgICAgICAgIHRoaXMuZmlsZXMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB0cmF2ZXJzZUZpbGVUcmVlKGl0ZW06IEZpbGVTeXN0ZW1FbnRyeSwgcGF0aDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBpZiAoaXRlbS5pc0ZpbGUpIHtcclxuICAgICAgY29uc3QgdG9VcGxvYWQ6IFVwbG9hZEZpbGUgPSBuZXcgVXBsb2FkRmlsZShwYXRoLCBpdGVtKTtcclxuICAgICAgdGhpcy5maWxlcy5wdXNoKHRvVXBsb2FkKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwYXRoID0gcGF0aCArICcvJztcclxuICAgICAgY29uc3QgZGlyUmVhZGVyID0gKGl0ZW0gYXMgRmlsZVN5c3RlbURpcmVjdG9yeUVudHJ5KS5jcmVhdGVSZWFkZXIoKTtcclxuICAgICAgbGV0IGVudHJpZXM6IEZpbGVTeXN0ZW1FbnRyeVtdID0gW107XHJcblxyXG4gICAgICBjb25zdCByZWFkRW50cmllcyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLm51bU9mQWN0aXZlUmVhZEVudHJpZXMrKztcclxuICAgICAgICBkaXJSZWFkZXIucmVhZEVudHJpZXMoKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgaWYgKCFyZXN1bHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIGFkZCBlbXB0eSBmb2xkZXJzXHJcbiAgICAgICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHRvVXBsb2FkOiBVcGxvYWRGaWxlID0gbmV3IFVwbG9hZEZpbGUocGF0aCwgaXRlbSk7XHJcbiAgICAgICAgICAgICAgdGhpcy56b25lLnJ1bigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRvUXVldWUodG9VcGxvYWQpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuem9uZS5ydW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnRyYXZlcnNlRmlsZVRyZWUoZW50cmllc1tpXSwgcGF0aCArIGVudHJpZXNbaV0ubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb250aW51ZSB3aXRoIHRoZSByZWFkaW5nXHJcbiAgICAgICAgICAgIGVudHJpZXMgPSBlbnRyaWVzLmNvbmNhdChyZXN1bHQpO1xyXG4gICAgICAgICAgICByZWFkRW50cmllcygpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRoaXMubnVtT2ZBY3RpdmVSZWFkRW50cmllcy0tO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVhZEVudHJpZXMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsZWFycyBhbnkgYWRkZWQgZmlsZXMgZnJvbSB0aGUgZmlsZSBpbnB1dCBlbGVtZW50IHNvIHRoZSBzYW1lIGZpbGUgY2FuIHN1YnNlcXVlbnRseSBiZSBhZGRlZCBtdWx0aXBsZSB0aW1lcy5cclxuICAgKi9cclxuICBwcml2YXRlIHJlc2V0RmlsZUlucHV0KCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuZmlsZVNlbGVjdG9yICYmIHRoaXMuZmlsZVNlbGVjdG9yLm5hdGl2ZUVsZW1lbnQpIHtcclxuICAgICAgY29uc3QgZmlsZUlucHV0RWwgPSB0aGlzLmZpbGVTZWxlY3Rvci5uYXRpdmVFbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgIGNvbnN0IGZpbGVJbnB1dENvbnRhaW5lckVsID0gZmlsZUlucHV0RWwucGFyZW50RWxlbWVudDtcclxuICAgICAgY29uc3QgaGVscGVyRm9ybUVsID0gdGhpcy5nZXRIZWxwZXJGb3JtRWxlbWVudCgpO1xyXG4gICAgICBjb25zdCBmaWxlSW5wdXRQbGFjZWhvbGRlckVsID0gdGhpcy5nZXRGaWxlSW5wdXRQbGFjZWhvbGRlckVsZW1lbnQoKTtcclxuXHJcbiAgICAgIC8vIEp1c3QgYSBxdWljayBjaGVjayBzbyB3ZSBkbyBub3QgbWVzcyB1cCB0aGUgRE9NICh3aWxsIG5ldmVyIGhhcHBlbiB0aG91Z2gpLlxyXG4gICAgICBpZiAoZmlsZUlucHV0Q29udGFpbmVyRWwgIT09IGhlbHBlckZvcm1FbCkge1xyXG4gICAgICAgIC8vIEluc2VydCB0aGUgZm9ybSBpbnB1dCBwbGFjZWhvbGRlciBpbiB0aGUgRE9NIGJlZm9yZSB0aGUgZm9ybSBpbnB1dCBlbGVtZW50LlxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuaW5zZXJ0QmVmb3JlKGZpbGVJbnB1dENvbnRhaW5lckVsLCBmaWxlSW5wdXRQbGFjZWhvbGRlckVsLCBmaWxlSW5wdXRFbCk7XHJcbiAgICAgICAgLy8gQWRkIHRoZSBmb3JtIGlucHV0IGFzIGNoaWxkIG9mIHRoZSB0ZW1wb3JhcnkgZm9ybSBlbGVtZW50LCByZW1vdmluZyB0aGUgZm9ybSBpbnB1dCBmcm9tIHRoZSBET00uXHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZChoZWxwZXJGb3JtRWwsIGZpbGVJbnB1dEVsKTtcclxuICAgICAgICAvLyBSZXNldCB0aGUgZm9ybSwgdGh1cyBjbGVhcmluZyB0aGUgaW5wdXQgZWxlbWVudCBvZiBhbnkgZmlsZXMuXHJcbiAgICAgICAgaGVscGVyRm9ybUVsLnJlc2V0KCk7XHJcbiAgICAgICAgLy8gQWRkIHRoZSBmaWxlIGlucHV0IGJhY2sgdG8gdGhlIERPTSBpbiBwbGFjZSBvZiB0aGUgZmlsZSBpbnB1dCBwbGFjZWhvbGRlciBlbGVtZW50LlxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuaW5zZXJ0QmVmb3JlKGZpbGVJbnB1dENvbnRhaW5lckVsLCBmaWxlSW5wdXRFbCwgZmlsZUlucHV0UGxhY2Vob2xkZXJFbCk7XHJcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBpbnB1dCBwbGFjZWhvbGRlciBmcm9tIHRoZSBET01cclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNoaWxkKGZpbGVJbnB1dENvbnRhaW5lckVsLCBmaWxlSW5wdXRQbGFjZWhvbGRlckVsKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGEgY2FjaGVkIEhUTUwgZm9ybSBlbGVtZW50IGFzIGEgaGVscGVyIGVsZW1lbnQgdG8gY2xlYXIgdGhlIGZpbGUgaW5wdXQgZWxlbWVudC5cclxuICAgKi9cclxuICBwcml2YXRlIGdldEhlbHBlckZvcm1FbGVtZW50KCk6IEhUTUxGb3JtRWxlbWVudCB7XHJcbiAgICBpZiAoIXRoaXMuaGVscGVyRm9ybUVsKSB7XHJcbiAgICAgIHRoaXMuaGVscGVyRm9ybUVsID0gdGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCdmb3JtJykgYXMgSFRNTEZvcm1FbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmhlbHBlckZvcm1FbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhIGNhY2hlZCBIVE1MIGRpdiBlbGVtZW50IHRvIGJlIHVzZWQgYXMgcGxhY2Vob2xkZXIgZm9yIHRoZSBmaWxlIGlucHV0IGVsZW1lbnQgd2hlbiBjbGVhcmluZyBzYWlkIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZXRGaWxlSW5wdXRQbGFjZWhvbGRlckVsZW1lbnQoKTogSFRNTERpdkVsZW1lbnQge1xyXG4gICAgaWYgKCF0aGlzLmZpbGVJbnB1dFBsYWNlaG9sZGVyRWwpIHtcclxuICAgICAgdGhpcy5maWxlSW5wdXRQbGFjZWhvbGRlckVsID0gdGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCdkaXYnKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5maWxlSW5wdXRQbGFjZWhvbGRlckVsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjYW5HZXRBc0VudHJ5KGl0ZW06IGFueSk6IGl0ZW0gaXMgRGF0YVRyYW5zZmVySXRlbSB7XHJcbiAgICByZXR1cm4gISFpdGVtLndlYmtpdEdldEFzRW50cnk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzRHJvcHpvbmVEaXNhYmxlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAodGhpcy5nbG9iYWxEcmFnZ2luZ0luUHJvZ3Jlc3MgfHwgdGhpcy5kaXNhYmxlZCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZFRvUXVldWUoaXRlbTogVXBsb2FkRmlsZSk6IHZvaWQge1xyXG4gICAgdGhpcy5maWxlcy5wdXNoKGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcmV2ZW50QW5kU3RvcChldmVudDogRXZlbnQpOiB2b2lkIHtcclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHtGaWxlQ29tcG9uZW50fSBmcm9tICcuL2ZpbGUtZHJvcC5jb21wb25lbnQnO1xyXG5cclxuQE5nTW9kdWxlKHtcclxuICBkZWNsYXJhdGlvbnM6IFtcclxuICAgIEZpbGVDb21wb25lbnQsXHJcbiAgXSxcclxuICBleHBvcnRzOiBbRmlsZUNvbXBvbmVudF0sXHJcbiAgaW1wb3J0czogW0NvbW1vbk1vZHVsZV0sXHJcbiAgcHJvdmlkZXJzOiBbXSxcclxuICBib290c3RyYXA6IFtGaWxlQ29tcG9uZW50XSxcclxufSlcclxuZXhwb3J0IGNsYXNzIEZpbGVEcm9wTW9kdWxlIHt9XHJcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBT0E7Ozs7OztJQUNJLG9CQUNXLFlBQW9CLEVBQ3BCLFNBQTBCO1FBRDFCLGlCQUFZLEdBQVosWUFBWSxDQUFRO1FBQ3BCLGNBQVMsR0FBVCxTQUFTLENBQWlCO0tBQ3BDO0lBQ0wsaUJBQUM7Q0FBQTs7Ozs7O0FDVkQ7SUFDSSxxQkFDVyxLQUFtQjtRQUFuQixVQUFLLEdBQUwsS0FBSyxDQUFjO0tBQzdCO0lBQ0wsa0JBQUM7Q0FBQTs7Ozs7O0FDTkQ7SUErRUUsdUJBQ1UsSUFBWSxFQUNaLFFBQW1CO1FBRjdCLGlCQVVDO1FBVFMsU0FBSSxHQUFKLElBQUksQ0FBUTtRQUNaLGFBQVEsR0FBUixRQUFRLENBQVc7UUF4RHRCLFdBQU0sR0FBVyxHQUFHLENBQUM7UUFHckIsYUFBUSxHQUFZLElBQUksQ0FBQztRQUd6QixrQkFBYSxHQUFXLEVBQUUsQ0FBQztRQUczQixzQkFBaUIsR0FBVywwQkFBMEIsQ0FBQztRQUd2RCxxQkFBZ0IsR0FBVyx3QkFBd0IsQ0FBQztRQVNwRCxrQkFBYSxHQUFZLEtBQUssQ0FBQztRQUUvQix1QkFBa0IsR0FBVyxrREFBa0QsQ0FBQztRQUdoRixtQkFBYyxHQUFXLGNBQWMsQ0FBQztRQUd4QyxlQUFVLEdBQThCLElBQUksWUFBWSxFQUFlLENBQUM7UUFFeEUsZUFBVSxHQUFzQixJQUFJLFlBQVksRUFBTyxDQUFDO1FBRXhELGdCQUFXLEdBQXNCLElBQUksWUFBWSxFQUFPLENBQUM7UUFLekQsMkJBQXNCLEdBQVksS0FBSyxDQUFDO1FBRXZDLDZCQUF3QixHQUFZLEtBQUssQ0FBQztRQUkxQyxVQUFLLEdBQWlCLEVBQUUsQ0FBQztRQUN6Qiwy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","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SettingsPage } from './settings.page';\r\nimport { FileDropModule } from 'ngx-file-drop';\r\nimport { SharedModule } from '../shared/shared.module';\r\n \r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SettingsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    FileDropModule,\r\n    SharedModule\r\n  ],\r\n  declarations: [SettingsPage]\r\n})\r\nexport class SettingsPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{'Settings' | translate}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding=\\\"padding\\\">\\r\\n  <ion-item>\\r\\n    <ion-label>{{'UI Language' | translate}}</ion-label>\\r\\n    <ion-select\\r\\n      (ionChange)=\\\"onLanguageChange($event)\\\"\\r\\n      [(ngModel)]=\\\"UILanguage\\\"\\r\\n      interface=\\\"popover\\\"\\r\\n    >\\r\\n      <ion-select-option value=\\\"en\\\">English</ion-select-option>\\r\\n      <ion-select-option value=\\\"es\\\">español</ion-select-option>\\r\\n      <ion-select-option value=\\\"pt\\\">português</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>\\r\\n  <hr class=\\\"hr-margin-bottom hr-black\\\" />\\r\\n  <ion-item>\\r\\n    <ion-label>{{'Sign Language Puddle' | translate}}</ion-label>\\r\\n    <ion-select\\r\\n      (ionChange)=\\\"onPuddleChange($event)\\\"\\r\\n      [(ngModel)]=\\\"puddleID\\\"\\r\\n      interface=\\\"popover\\\"\\r\\n    >\\r\\n      <ion-select-option value=\\\"106\\\">Dictionary Afghanistan</ion-select-option>\\r\\n      <ion-select-option value=\\\"82\\\">Dictionary Albania</ion-select-option>\\r\\n      <ion-select-option value=\\\"41\\\">Dictionary Argentina</ion-select-option>\\r\\n      <ion-select-option value=\\\"4\\\"\\r\\n        >Dictionary ASL - USA & Canada</ion-select-option\\r\\n      >\\r\\n      <ion-select-option value=\\\"29\\\">Dictionary AT</ion-select-option>\\r\\n      <ion-select-option value=\\\"42\\\">Dictionary Australia</ion-select-option>\\r\\n      <ion-select-option value=\\\"43\\\"\\r\\n        >Dictionary French Belgium</ion-select-option\\r\\n      >\\r\\n      <ion-select-option value=\\\"44\\\"\\r\\n        >Dictionary Flanders, Belgium</ion-select-option\\r\\n      >\\r\\n      <ion-select-option value=\\\"134\\\">Dictionary Bulgaria</ion-select-option>\\r\\n      <ion-select-option value=\\\"45\\\">Dictionary Bolivia</ion-select-option>\\r\\n      <ion-select-option value=\\\"46\\\"\\r\\n        >Dictionary LIBRAS - Brazil</ion-select-option\\r\\n      >\\r\\n      <ion-select-option value=\\\"47\\\">Dictionary Quebec</ion-select-option>\\r\\n      <ion-select-option value=\\\"48\\\"\\r\\n        >Dictionary German Switzerland</ion-select-option\\r\\n      >\\r\\n      <ion-select-option value=\\\"49\\\"\\r\\n        >Dictionary French-Switzerland</ion-select-option\\r\\n      >\\r\\n      <ion-select-option value=\\\"50\\\">Dictionary CH-it</ion-select-option>\\r\\n      <ion-select-option value=\\\"135\\\">Dictionary Chile</ion-select-option>\\r\\n      <ion-select-option value=\\\"83\\\">Dictionary China</ion-select-option>\\r\\n      <ion-select-option value=\\\"51\\\">Dictionary Colombia</ion-select-option>\\r\\n      <ion-select-option value=\\\"52\\\"\\r\\n        >Dictionary Czech Republic</ion-select-option\\r\\n      >\\r\\n      <ion-select-option value=\\\"53\\\"\\r\\n        >Dictionary Deutschland, Germany</ion-select-option\\r\\n      >\\r\\n      <ion-select-option value=\\\"30\\\">Dictionary Denmark</ion-select-option>\\r\\n      <ion-select-option value=\\\"136\\\">Dictionary Ecuador</ion-select-option>\\r\\n      <ion-select-option value=\\\"109\\\">Dictionary Estonia</ion-select-option>\\r\\n      <ion-select-option value=\\\"84\\\">Dictionary Egypt</ion-select-option>\\r\\n      <ion-select-option value=\\\"54\\\">Dictionary Vortaro</ion-select-option>\\r\\n      <ion-select-option value=\\\"55\\\">Dictionary España, Spain</ion-select-option>\\r\\n      <ion-select-option value=\\\"56\\\"\\r\\n        >Dictionary Catalonia, Barcelona</ion-select-option\\r\\n      >\\r\\n      <ion-select-option value=\\\"18\\\">Dictionary Ethiopia</ion-select-option>\\r\\n      <ion-select-option value=\\\"57\\\">Dictionary Finland</ion-select-option>\\r\\n      <ion-select-option value=\\\"58\\\">Dictionary France</ion-select-option>\\r\\n      <ion-select-option value=\\\"59\\\">Dictionary Great Britain</ion-select-option>\\r\\n      <ion-select-option value=\\\"60\\\"\\r\\n        >Dictionary Northern Ireland</ion-select-option\\r\\n      >\\r\\n      <ion-select-option value=\\\"61\\\">Dictionary Greece</ion-select-option>\\r\\n      <ion-select-option value=\\\"112\\\">Dictionary Guatemala</ion-select-option>\\r\\n      <ion-select-option value=\\\"16\\\"\\r\\n        >Dictionary LESHO - Honduras</ion-select-option\\r\\n      >\\r\\n      <ion-select-option value=\\\"113\\\">Dictionary Haiti</ion-select-option>\\r\\n      <ion-select-option value=\\\"122\\\">Dictionary Hungary</ion-select-option>\\r\\n      <ion-select-option value=\\\"62\\\">Dictionary Ireland</ion-select-option>\\r\\n      <ion-select-option value=\\\"110\\\">Dictionary Israel</ion-select-option>\\r\\n      <ion-select-option value=\\\"2\\\">Dictionary India</ion-select-option>\\r\\n      <ion-select-option value=\\\"131\\\">Dictionary IS</ion-select-option>\\r\\n      <ion-select-option value=\\\"63\\\">Dictionary IT</ion-select-option>\\r\\n      <ion-select-option value=\\\"86\\\">Dictionary Jordan</ion-select-option>\\r\\n      <ion-select-option value=\\\"64\\\">Dictionary Japan</ion-select-option>\\r\\n      <ion-select-option value=\\\"79\\\">Dictionary Kenya</ion-select-option>\\r\\n      <ion-select-option value=\\\"78\\\">Dictionary Korea</ion-select-option>\\r\\n      <ion-select-option value=\\\"107\\\">Dictionary Lithuania</ion-select-option>\\r\\n      <ion-select-option value=\\\"108\\\">Dictionary Latvia</ion-select-option>\\r\\n      <ion-select-option value=\\\"2\\\">Dictionary Myanmar</ion-select-option>\\r\\n      <ion-select-option value=\\\"31\\\">Dictionary Malta</ion-select-option>\\r\\n      <ion-select-option value=\\\"128\\\">Dictionary Malawi</ion-select-option>\\r\\n      <ion-select-option value=\\\"65\\\">Malawi Mexico</ion-select-option>\\r\\n      <ion-select-option value=\\\"66\\\">Dictionary Malaysia</ion-select-option>\\r\\n      <ion-select-option value=\\\"32\\\">Dictionary Nigeria</ion-select-option>\\r\\n      <ion-select-option value=\\\"67\\\">Dictionary Nicaragua</ion-select-option>\\r\\n      <ion-select-option value=\\\"68\\\">Dictionary NL</ion-select-option>\\r\\n      <ion-select-option value=\\\"69\\\">Dictionary Norge, Norway</ion-select-option>\\r\\n      <ion-select-option value=\\\"133\\\">Dictionary Nepal</ion-select-option>\\r\\n      <ion-select-option value=\\\"70\\\">Dictionary New Zealand</ion-select-option>\\r\\n      <ion-select-option value=\\\"71\\\">Diccionario Peru</ion-select-option>\\r\\n      <ion-select-option value=\\\"72\\\">Dictionary Philippines</ion-select-option>\\r\\n      <ion-select-option value=\\\"87\\\">Dictionary Pakistan</ion-select-option>\\r\\n      <ion-select-option value=\\\"19\\\">Dictionary Poland</ion-select-option>\\r\\n      <ion-select-option value=\\\"33\\\">Dictionary Portugal</ion-select-option>\\r\\n      <ion-select-option value=\\\"129\\\">Dictionary Paraguay</ion-select-option>\\r\\n      <ion-select-option value=\\\"132\\\">Dictionary Romania</ion-select-option>\\r\\n      <ion-select-option value=\\\"88\\\">Dictionary Russia</ion-select-option>\\r\\n      <ion-select-option value=\\\"40\\\"\\r\\n        >Dictionary Kingdom Saudi Arabia</ion-select-option\\r\\n      >\\r\\n      <ion-select-option value=\\\"73\\\">Dictionary Sverige</ion-select-option>\\r\\n      <ion-select-option value=\\\"74\\\">Dictionary Slovenia</ion-select-option>\\r\\n      <ion-select-option value=\\\"89\\\">Dictionary Slovakia</ion-select-option>\\r\\n      <ion-select-option value=\\\"137\\\">Dictionary El Salvador</ion-select-option>\\r\\n      <ion-select-option value=\\\"34\\\">Dictionary Thailand</ion-select-option>\\r\\n      <ion-select-option value=\\\"104\\\">Dictionary Tunisia</ion-select-option>\\r\\n      <ion-select-option value=\\\"90\\\">Dictionary Turkey</ion-select-option>\\r\\n      <ion-select-option value=\\\"75\\\">Dictionary Taiwan</ion-select-option>\\r\\n      <ion-select-option value=\\\"143\\\">Dictionary Uruguay</ion-select-option>\\r\\n      <ion-select-option value=\\\"76\\\">Dictionary Venezuela</ion-select-option>\\r\\n      <ion-select-option value=\\\"153\\\">Dictionary Vietnam</ion-select-option>\\r\\n      <ion-select-option value=\\\"35\\\"\\r\\n        >Dictionary Signs Used Worldwide</ion-select-option\\r\\n      >\\r\\n      <ion-select-option value=\\\"77\\\">Dictionary South Africa</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-button (click)=\\\"downloadPuddle()\\\">\\r\\n      {{'Install Puddle' | translate}}\\r\\n    </ion-button>\\r\\n  </ion-item>\\r\\n  <hr class=\\\"hr-margin-bottom hr-black\\\" />\\r\\n  <div class=\\\"center\\\">\\r\\n    <file-drop\\r\\n      dropZoneLabel=\\\"{{'Drop SPML file here to add signs' | translate}}\\\"\\r\\n      (onFileDrop)=\\\"dropped($event)\\\"\\r\\n      (onFileOver)=\\\"fileOver($event)\\\"\\r\\n      (onFileLeave)=\\\"fileLeave($event)\\\"\\r\\n    ></file-drop>\\r\\n    <input (change)=\\\"upload($event)\\\" type=\\\"file\\\" />\\r\\n    <!-- <input #uploader=\\\"ngModel\\\" [(ngModel)]=\\\"uploaderInput\\\" (change)=\\\"upload($event)\\\" type=\\\"file\\\"/> -->\\r\\n    <!-- <ion-button (click)=\\\"uploader.click()\\\">\\r\\n                                                            {{'Choose SPML file' | translate}}\\r\\n                                                        </ion-button> -->\\r\\n    <hr class=\\\"hr-margin-bottom hr-black\\\" />\\r\\n    <ion-button (click)=\\\"clearSigns()\\\">\\r\\n      {{'Clear Signs' | translate}}\\r\\n    </ion-button>\\r\\n  </div>\\r\\n  <hr class=\\\"hr-margin-bottom hr-black\\\" />\\r\\n  <ion-fab horizontal=\\\"end\\\" slot=\\\"fixed\\\" vertical=\\\"bottom\\\">\\r\\n    <ion-label>{{'Next' | translate}}</ion-label>\\r\\n    <ion-fab-button>\\r\\n      <ion-icon\\r\\n        (click)=\\\"next()\\\"\\r\\n        name=\\\"arrow-dropright-circle\\\"\\r\\n        style=\\\"zoom:2.0;\\\"\\r\\n      ></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n</ion-content>\\r\\n\"","module.exports = \".hr-margin-bottom {\\n  margin-bottom: 16px; }\\n\\n.hr-black {\\n  border: 0;\\n  clear: both;\\n  display: block;\\n  width: 96%;\\n  background-color: black;\\n  height: 1px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2V0dGluZ3MvSTpcXFNXU2lnbldyaXRlclxcU1dTaWduV3JpdGVyLUFwcC9zcmNcXGFwcFxcc2V0dGluZ3NcXHNldHRpbmdzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1CQUFtQixFQUFBOztBQUd2QjtFQUNJLFNBQVM7RUFDVCxXQUFVO0VBQ1YsY0FBYTtFQUNiLFVBQVU7RUFDVix1QkFBc0I7RUFDdEIsV0FBVyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhyLW1hcmdpbi1ib3R0b20ge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTZweDtcclxufVxyXG5cclxuLmhyLWJsYWNrIHtcclxuICAgIGJvcmRlcjogMDtcclxuICAgIGNsZWFyOmJvdGg7XHJcbiAgICBkaXNwbGF5OmJsb2NrO1xyXG4gICAgd2lkdGg6IDk2JTsgICAgICAgICAgICAgICBcclxuICAgIGJhY2tncm91bmQtY29sb3I6YmxhY2s7XHJcbiAgICBoZWlnaHQ6IDFweDtcclxufSJdfQ== */\"","import { SubscriptionService } from './../services/subscription.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport {\r\n  UploadEvent,\r\n  FileSystemFileEntry,\r\n  FileSystemDirectoryEntry\r\n} from 'ngx-file-drop';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { SettingsService } from '../settings.service';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ToastController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.page.html',\r\n  styleUrls: ['./settings.page.scss']\r\n})\r\nexport class SettingsPage implements OnInit {\r\n  public UILanguage: string;\r\n  public puddleID: string;\r\n\r\n  constructor(private settingsService: SettingsService,\r\n  private alertController: AlertController,\r\n  private translate: TranslateService,\r\n  public toastController: ToastController,\r\n  private translateService: TranslateService,\r\n  private subscriptionService: SubscriptionService,\r\n  private router: Router) { }\r\n\r\n  upload(event) {\r\n    const file = event.target.files[0];\r\n    this.settingsService.loadFile(file);\r\n  }\r\n\r\n  next() {\r\n    return this.router.navigateByUrl('/edit');\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.subscriptionService.CanUse();\r\n    this.UILanguage = await this.currentUILanguage();\r\n    this.settingsService.setFirstTime();\r\n  }\r\n\r\n  dropped(event: UploadEvent) {\r\n    const files = event.files;\r\n    for (const droppedFile of files) {\r\n      if (droppedFile.fileEntry.isFile) {\r\n        const fileEntry = droppedFile.fileEntry as FileSystemFileEntry;\r\n        fileEntry.file((file: File) => {\r\n          if (droppedFile.relativePath.toLowerCase().endsWith('.spml')) {\r\n            this.settingsService.loadFile(file);\r\n          }\r\n        });\r\n      } else {\r\n        // It was a directory (empty directories are added, otherwise only files)\r\n        const fileEntry = droppedFile.fileEntry as FileSystemDirectoryEntry;\r\n      }\r\n    }\r\n  }\r\n\r\n  fileOver(event) {\r\n    // console.log(event);\r\n  }\r\n\r\n  fileLeave(event) {\r\n    // console.log(event);\r\n  }\r\n\r\n  async clearSigns() {\r\n    const alert = await this.alertController.create({\r\n      header: this.translate.instant('Clear Signs!'),\r\n      message: this.translate.instant('Do you <strong>really</strong> want to delete all the signs!!!'),\r\n      buttons: [\r\n        {\r\n          text: this.translate.instant('No'),\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (data) => {\r\n          }\r\n        }, {\r\n          text: this.translate.instant('Yes'),\r\n          handler: () => {\r\n            this.settingsService.removeAllSigns();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  onLanguageChange(event) {\r\n    this.settingsService.setUILanguage(event.detail.value);\r\n    this.UILanguage = event.detail.value;\r\n  }\r\n\r\n  async currentUILanguage(): Promise<string> {\r\n    const language = await this.settingsService.getUILanguage();\r\n    return language ? language : 'en';\r\n  }\r\n\r\n  async downloadPuddle() {\r\n    await this.showToast(this.translateService.instant('Downloading'), 3000);\r\n    await this.showToast(this.translateService.instant('This may take a few minutes'), 3000);\r\n    this.xhrDownloadPuddle();\r\n  }\r\n\r\n  private xhrDownloadPuddle() {\r\n    const data = 'action=Download&ex_source=All';\r\n    let puddle = 0;\r\n     puddle = parseInt(this.puddleID, 10);\r\n    if (isNaN(puddle)) {\r\n      puddle = 4;\r\n    }\r\n    const url = 'https://cors-anywhere.herokuapp.com/http://www.signbank.org/signpuddle2.0/export.php?ui=1&sgn=' + puddle.toString();\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.withCredentials = false;\r\n    const thispage = this;\r\n    xhr.addEventListener('readystatechange', function () {\r\n      if (this.readyState === 4) {\r\n        thispage.settingsService.loadPuddle(this.responseText);\r\n      }\r\n    });\r\n    xhr.open('POST', url);\r\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n    xhr.setRequestHeader('Accept', 'application/xml');\r\n    xhr.send(data);\r\n  }\r\n\r\n  onPuddleChange(event) {\r\n    this.puddleID = event.detail.value;\r\n  }\r\n\r\n  async showToast(message, duration) {\r\n    const toast = await this.toastController.create({\r\n      message: message,\r\n      duration: duration\r\n    });\r\n    toast.present();\r\n  }\r\n}\r\n"],"sourceRoot":""}